!function(e){"use strict";var t,s,r,n,a;t=function(e){var t,s;for(e=e||{},t=1;t<arguments.length;t+=1)if(arguments[t])for(s in arguments[t])arguments[t].hasOwnProperty(s)&&(e[s]=arguments[t][s]);return e},r=function(e,t,s){var r=document.createElement(e);return r.classList.add(t),r.innerHTML=s,r},n=function(e,t,s,n){var a,i,o=document.createElement("div"),c=document.createElement("p");return o.classList.add("mailchimp-it-response-box"),o.classList.add(t),c.classList.add("mailchimp-it-text"),c.textContent=e,o.appendChild(c),s&&(a=r("div","mailchimp-it-before-response",s),o.insertBefore(a,c)),n&&(i=r("div","mailchimp-it-after-response",n),o.appendChild(i)),o},s=function(e){var t=document.createElement("div");return t.classList.add("mailchimpit-loader"),e?t.innerHTML=e:t.innerHTML='<svg class="mailchimp-it-spinner" width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"><circle class="mailchimp-it-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg>',t},a=function(e,r){var a,i=document.querySelectorAll(e),o=t({successMessage:"Thanks for subscribing !",successMessageBefore:null,successMessageAfter:null,successMessageClassName:"mailchimp-it-success",onSuccess:function(){},errorMessageClassName:"mailchimp-it-error",errorMessageBefore:null,errorMessageAfter:null,errorMessageTimeout:5e3,onError:function(){},mailInputName:"newsletter_mail",firstNameInputName:"newsletter_first_name",lastNameInputName:"newsletter_last_name",loaderElt:null},r),c=n(o.successMessage,o.successMessageClassName,o.successMessageBefore,o.successMessageAfter),l=s(o.loaderElt);Array.prototype.forEach.call(i,function(e){if("FORM"!==e.nodeName)console.error("mailchimp-it only works with forms tags, you provide "+e.nodeName,e);else{var t=e.getAttribute("action");e.onsubmit=function(s){s.preventDefault();var r,i,u=new XMLHttpRequest,m=[],p=e.querySelector("input[name="+o.mailInputName+"]"),d=e.querySelector("input[name="+o.firstNameInputName+"]"),f=e.querySelector("input[name="+o.lastNameInputName+"]"),g={};p&&(g[o.mailInputName]=p.value),d&&(g[o.firstNameInputName]=d.value),f&&(g[o.lastNameInputName]=f.value);for(i in g)g.hasOwnProperty(i)&&m.push(encodeURIComponent(i)+"="+encodeURIComponent(g[i]));r=m.join("&").replace(/%20/g,"+"),u.open("POST",t,!0),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.parentNode.insertBefore(l,e.nextSibling),e.remove(),u.onload=function(){var t=JSON.parse(u.responseText);u.status>=200&&u.status<400&&"subscribed"===t.status?(l.parentNode.insertBefore(c,l.nextSibling),l.remove(),o.onSuccess()):(a=n(t.detail,o.errorMessageClassName,o.errorMessageBefore,o.errorMessageAfter),l.parentNode.insertBefore(a,l.nextSibling),l.remove(),o.onError(),window.setTimeout(function(){a.parentNode.insertBefore(e,a.nextSibling),a.remove()},o.errorMessageTimeout))},u.send(r)}}})},e.mailchimpIt=a}(window),window.jQuery&&!function(e,t){"use strict";function s(e,s){t(e,s)}e.fn.mailchimpIt=function(e){return s(this.selector,e)}}(jQuery,mailchimpIt);
//# sourceMappingURL=mailchimp-it.min.js.map
